
<mat-dialog-content>
<h2 mat-dialog-title>Sign in</h2>

<form [formGroup]="form" (ngSubmit)="submit()" class="vstack">
  <mat-form-field>
    <mat-label>Username</mat-label>
    <input matInput formControlName="username" autocomplete="username" required>
    @if (form.controls.username.invalid && form.controls.username.touched) {
      <mat-error>Valid username required</mat-error>
    }
    </mat-form-field>

  <mat-form-field>
    <mat-label>Password</mat-label>
    <input matInput type="password" formControlName="password" autocomplete="current-password" required>
    @if (form.controls.password.invalid && form.controls.password.touched) {
      <mat-error>Min 6 chars</mat-error>
    }
  </mat-form-field>

  <div class="actions">
    <button mat-button type="button" (click)="close()">Cancel</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid || loading()">Login</button>
  </div>

  @if (error()) {
    <div class="err">{{ error() }}</div>
  }
</form>
</mat-dialog-content>
